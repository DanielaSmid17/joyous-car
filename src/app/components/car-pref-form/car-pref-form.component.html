<div class="form-container">
    <div class="form-content">
        <span class="instructions">Please fill out this information so we can <br/> generate the perfect car for you!</span>
        <form #form="ngForm" (ngSubmit)="submit(form)" [style.margin-top]="'20px'">
            <div class="form-row">
                <div class="form-input">
                    <div class="input">
                        <mat-form-field appearance="outline">
                            <mat-label for="fullName">Name: </mat-label>
                            <input 
                            matInput 
                            required
                            min="2"
                            type="text" 
                            name="fullName"
                            pattern="^(?!(<\s*\w+)).*$"
                            #fullName="ngModel"
                            class="text-input" 
                            ngModel 
                            placeholder="Yoko ono">
                        </mat-form-field>
                    </div>
                        <div 
                        class="error" 
                        *ngIf="fullName.touched && !fullName">
                            First name is required                        
                        </div>
                        <div 
                        class="error" 
                        *ngIf="fullName.touched && !fullName.valid">
                            First name must have more than 2 characters                        
                        </div>
                        <div 
                        class="error" 
                        *ngIf="fullName.touched && fullName.errors?.['pattern']">
                            This cannot be a tag                       
                        </div>

                </div>
                <div class="form-input">
                    <div class="input">
                        <mat-form-field appearance="outline">
                            <mat-label for="gender">Gender</mat-label>
                            <mat-select ngModel required name="gender" id="gender" #gender="ngModel">
                                <mat-option *ngFor="let gender of genders" [value]="gender">{{gender}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div 
                        class="error" 
                        *ngIf="gender.touched && !gender.valid">
                    <div>
                        Gender is required
                    </div>
                    
                </div>

                </div>
            </div>
                <div class="form-row">
                    <div class="form-input">
                        <div class="input">
                            <mat-form-field appearance="outline">
                                <mat-label for="email">Email: </mat-label>
                                <input 
                                matInput 
                                required
                                type="email" 
                                name="email"
                                pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                                class="text-input"
                                ngModel 
                                #email="ngModel"
                                placeholder="yoko.ono@gmail.com"
                                >
                              </mat-form-field>
                                
                        </div>
                        <div 
                        class="error" 
                        *ngIf="email.touched && email.errors?.['pattern']">
                                This feild should be an email address
                        
                        </div>
                        <div 
                        class="error" 
                        *ngIf="email.touched && email.errors?.['required']">
                                Email is required
                        
                        </div>
                    </div>
                    <div class="form-input">
                        <div class="input">
                            <label for="motor">Motor Type: </label>
                            <mat-radio-group ngModel #motor="ngModel" name="motor">
                              <mat-radio-button value="Electric">Electric</mat-radio-button>
                              <mat-radio-button value="Fuel">Fuel</mat-radio-button>
                            </mat-radio-group>
                        </div>
                        <div 
                        class="error" 
                        *ngIf="motor.touched && !motor.valid">
                                Choose a motor type
                        </div>
                    </div>
                    
                </div>
            <div class="form-row">
                <div class="form-input">
                    <div class="input">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label for="birthdate">Birth Date</mat-label>
                            <input matInput 
                            [matDatepicker]="picker"
                            required
                            name="birthdate"
                            placeholder="When were you born?"
                            ngModel 
                            #date="ngModel"
                            min="1923-01-01" 
                            max="{{maxDate | date:'yyyy-MM-dd'}}"
                            >
                            <mat-datepicker-toggle matIconSuffix [for]="picker">
                              <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>
                    </div>
                    <div 
                    class="error" 
                    *ngIf="date.touched && !date.valid">
                            Please select your birthdate
                    
                    </div>

                </div>
                <div class="form-input">
                    <div class="input">
                        <mat-form-field appearance="outline">
                            <mat-label for="location">Location: </mat-label>
                            <input 
                            matInput 
                            required
                            type="text" 
                            pattern="^(?!(<\s*\w+))[^,]*(,[^,]*){2,}$"
                            name="location"
                            #location="ngModel"
                            [class]="'text-input'" 
                            placeholder="Ben Yehuda, Tel Aviv, Israel"
                            ngModel 
                            >
                        </mat-form-field>
                    </div>
                    <div 
                    class="error" 
                    *ngIf="location.touched && location.errors?.['pattern']">
                            Please give us more details: Street, City, Country
                    
                    </div>

                </div>
            </div>
            <div class="form-row">
                <div class="form-input">
                    <div class="input">
                        <mat-form-field appearance="outline">
                            <mat-label for="color">Favorite color: </mat-label>
                            <input 
                            matInput 
                            required
                            type="text" 
                            name="color"
                            class="text-input" 
                            placeholder="Drunk-Tank Pink"
                            ngModel 
                            #color="ngModel"
                            onfocus="(this.type='color')"
                            >
                        </mat-form-field>
                    </div>
                    <div 
                    class="error" 
                    *ngIf="color.touched && !color.valid">
                            Please select a color
                    
                    </div>

                </div>
                <div class="form-input">
                    <div class="input">
                        <mat-form-field appearance="outline">
                            <mat-label for="seats">Seats: </mat-label>
                            <input 
                            matInput 
                            required
                            type="number" 
                            name="seats"
                            id="seats"
                            min="2" 
                            max="7"
                            class="text-input" 
                            ngModel 
                            #seats="ngModel"
                            pattern="^[2-7]$"
                            [defaultValue]="2" 
                            >
                        </mat-form-field>
                    </div>
                    <div 
                    class="error" 
                    *ngIf="seats.touched && !seats.valid">
                            Car seats go between 2 and 7
                    
                    </div>

                </div>
            </div>
            <div class="form-single">
                    <div class="single-input">
                        <div class="input">
                            <label for="hobbies">
                                Hobbies:
                            </label>
                            <section>
                                <div>
                                  <span *ngFor="let hobbie of hobbies" class="checkbox">
                                    
                                    <input 
                                    name="hobbiesSelected" 
                                    type="checkbox"
                                    [value]="hobbie.id"
                                    [checked]="hobbie.selected"
                                    (change)="onChangeHobbies($event)" 
                                     >{{ hobbie.label }}
                                  </span>
                                </div>
                              </section>
                        
                    </div>
                    
                    </div>
                
            </div>
            <div class="submit">
                <button type="submit" mat-raised-button [style.margin]="'20px'" color="primary" [disabled]="!form.valid">Sumbit</button>
            </div>
            <div>People who have filled this form: <span [style.color]="'#8d5ff5'">{{totalUsers}}</span></div>
        </form>
    </div>
</div>
